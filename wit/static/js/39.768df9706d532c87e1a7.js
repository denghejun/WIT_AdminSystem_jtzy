webpackJsonp([39],{alD8:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l={data:function(){return{addDialog:!1,editDialog:!1,tableData:[],show:!1,ruleForm:{id:"",category:"",range1:"",range2:"",range3:"",range4:"",range5:"",range6:"",range7:"",range8:"",range9:"",range10:"",range11:"",range12:"",range13:"",range14:""},rules:{range1:[{required:!0,message:"请输入标准值1",trigger:"blur"}],range2:[{required:!0,message:"请输入标准值2",trigger:"blur"}],range3:[{required:!0,message:"请输入标准值3",trigger:"blur"}],range4:[{required:!0,message:"请输入标准值4",trigger:"blur"}],range5:[{required:!0,message:"请输入标准值5",trigger:"blur"}],range6:[{required:!0,message:"请输入标准值6",trigger:"blur"}],range7:[{required:!0,message:"请输入标准值7",trigger:"blur"}],range8:[{required:!0,message:"请输入标准值8",trigger:"blur"}],range9:[{required:!0,message:"请输入标准值9",trigger:"blur"}],range10:[{required:!0,message:"请输入标准值10",trigger:"blur"}],range11:[{required:!0,message:"请输入标准值11",trigger:"blur"}],range12:[{required:!0,message:"请输入标准值12",trigger:"blur"}],range13:[{required:!0,message:"请输入标准值13",trigger:"blur"}],range14:[{required:!0,message:"请输入标准值14",trigger:"blur"}]}}},created:function(){this.refresh()},methods:{exportExcel:function(){var e=this.xlsx.utils.table_to_book(document.querySelector("#out-table")),r=this.xlsx.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{this.fileSaver.saveAs(new Blob([r],{type:"application/octet-stream"}),"图例标准信息.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,r)}return r},refresh:function(){var e=this;this.$api.navigation.findAllStandard().then(function(r){e.tableData=r.data})},editForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=r.qs.stringify(r.ruleForm);r.$api.navigation.updateStandard(a).then(function(e){"ok"===e.msg?(r.editDialog=!1,r.$message({type:"success",message:"修改成功！"}),r.refresh()):r.$message({type:"error",message:"您的账号权限不足！"})})})},handleEdit:function(e,r){var a=this;this.tableData.forEach(function(e){e.id==r.id&&(a.ruleForm=e)}),this.refresh()}}},t={render:function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"flex"},[a("el-dialog",{attrs:{title:"修改图例标准信息",visible:e.editDialog,width:"800px",top:"5%","modal-append-to-body":!1},on:{"update:visible":function(r){e.editDialog=r}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"medium"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-5"},[a("el-form-item",{attrs:{label:"标准值1",prop:"range1"}},[a("el-input",{model:{value:e.ruleForm.range1,callback:function(r){e.$set(e.ruleForm,"range1",r)},expression:"ruleForm.range1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值2",prop:"range2"}},[a("el-input",{model:{value:e.ruleForm.range2,callback:function(r){e.$set(e.ruleForm,"range2",r)},expression:"ruleForm.range2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值3",prop:"range3"}},[a("el-input",{model:{value:e.ruleForm.range3,callback:function(r){e.$set(e.ruleForm,"range3",r)},expression:"ruleForm.range3"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值4",prop:"range4"}},[a("el-input",{model:{value:e.ruleForm.range4,callback:function(r){e.$set(e.ruleForm,"range4",r)},expression:"ruleForm.range4"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值5",prop:"range5"}},[a("el-input",{model:{value:e.ruleForm.range5,callback:function(r){e.$set(e.ruleForm,"range5",r)},expression:"ruleForm.range5"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值6",prop:"range6"}},[a("el-input",{model:{value:e.ruleForm.range6,callback:function(r){e.$set(e.ruleForm,"range6",r)},expression:"ruleForm.range6"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值7",prop:"range7"}},[a("el-input",{model:{value:e.ruleForm.range7,callback:function(r){e.$set(e.ruleForm,"range7",r)},expression:"ruleForm.range7"}})],1)],1),e._v(" "),a("div",{staticClass:"col-xs-5"},[a("el-form-item",{attrs:{label:"标准值8",prop:"range8"}},[a("el-input",{model:{value:e.ruleForm.range8,callback:function(r){e.$set(e.ruleForm,"range8",r)},expression:"ruleForm.range8"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值9",prop:"range9"}},[a("el-input",{model:{value:e.ruleForm.range9,callback:function(r){e.$set(e.ruleForm,"range9",r)},expression:"ruleForm.range9"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值10",prop:"range10"}},[a("el-input",{model:{value:e.ruleForm.range10,callback:function(r){e.$set(e.ruleForm,"range10",r)},expression:"ruleForm.range10"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值11",prop:"range11"}},[a("el-input",{model:{value:e.ruleForm.range11,callback:function(r){e.$set(e.ruleForm,"range11",r)},expression:"ruleForm.range11"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值12",prop:"range12"}},[a("el-input",{model:{value:e.ruleForm.range12,callback:function(r){e.$set(e.ruleForm,"range12",r)},expression:"ruleForm.range12"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值13",prop:"range13"}},[a("el-input",{model:{value:e.ruleForm.range13,callback:function(r){e.$set(e.ruleForm,"range13",r)},expression:"ruleForm.range13"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标准值14",prop:"range14"}},[a("el-input",{model:{value:e.ruleForm.range14,callback:function(r){e.$set(e.ruleForm,"range14",r)},expression:"ruleForm.range14"}})],1)],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(r){e.editDialog=!1}}},[e._v(" 取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.editForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"box"},[a("div",{staticClass:"box-header bg-aqua"},[e._v("图例标准信息管理")]),e._v(" "),a("div",{staticClass:"box-body"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-download"},on:{click:function(r){return r.stopPropagation(),e.exportExcel(r)}}},[e._v("报表导出")])],1),e._v(" "),a("el-table",{attrs:{size:"mini",data:e.tableData,stripe:"",id:"out-table",border:"","default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",fixed:"",label:"序号"}}),e._v(" "),e.show?a("el-table-column",{attrs:{prop:"id"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"category",width:"120px",fixed:"",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(r){return[10==r.row.category?a("h6",[e._v("日用水量标准")]):e._e(),e._v(" "),20==r.row.category?a("h6",[e._v("日量周同比增量")]):e._e(),e._v(" "),30==r.row.category?a("h6",[e._v("日量周同比增幅")]):e._e(),e._v(" "),40==r.row.category?a("h6",[e._v("日最小用量")]):e._e(),e._v(" "),50==r.row.category?a("h6",[e._v("最小量周同比增量")]):e._e(),e._v(" "),60==r.row.category?a("h6",[e._v("最小量周同比增幅")]):e._e(),e._v(" "),70==r.row.category?a("h6",[e._v("综合漏损指数")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"range1",label:"标准值1"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range2",label:"标准值2"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range3",label:"标准值3"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range4",label:"标准值4"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range5",label:"标准值5"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range6",label:"标准值6"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range7",label:"标准值7"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range8",label:"标准值8"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range9",label:"标准值9"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range10",label:"标准值10"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range11",label:"标准值11"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range12",label:"标准值12"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range13",label:"标准值13"}}),e._v(" "),a("el-table-column",{attrs:{prop:"range14",label:"标准值14"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(a){e.handleEdit(r.$index,r.row),e.editDialog=!0}}},[e._v("编辑")])]}}])})],1)],1)])])],1)},staticRenderFns:[]};var o=a("VU/8")(l,t,!1,function(e){a("wRbE")},"data-v-5ba93a0c",null);r.default=o.exports},wRbE:function(e,r){}});
//# sourceMappingURL=39.768df9706d532c87e1a7.js.map