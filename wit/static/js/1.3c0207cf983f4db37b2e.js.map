{"version":3,"sources":["webpack:///src/pages/login/Login.vue","webpack:///./static/images/logo.png","webpack:///./src/pages/login/Login.vue?44b3","webpack:///./src/pages/login/Login.vue"],"names":["__webpack_exports__","data","options","value","label","loginForm","username","password","compute","mapHeight","$","document","height","methods","login","_this","this","qs","stringify","alert","localStorage","removeItem","$api","sso","then","res","status","setItem","window","location","href","$message","type","message","catch","error","console","log","cookie","module","exports","__webpack_require__","p","login_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","label-width","src","_v","staticStyle","width","placeholder","model","callback","$$v","expression","_l","item","key","$set","on","click","staticRenderFns","__vue_styles__","ssrContext","Component","normalizeComponent","Login"],"mappings":"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","file":"static/js/1.3c0207cf983f4db37b2e.js","sourcesContent":["<template>\n  <!--<div class=\"image\">\n    <div class=\"login-box\">\n      <div class=\"login-logo\">\n        <b style=\"color:#ffffff\">武汉工程大学</b>\n        <br>\n        <b style=\"color:#ffffff\">智慧节水管控平台</b>\n      </div>\n      <div class=\"login-box-body\">\n        <p class=\"login-box-msg\"><b>用户登录</b></p>\n        <div class=\"form-group has-feedback\">\n          <input type=\"text\" v-model=\"loginForm.username\" class=\"form-control\" placeholder=\"账号\">\n          <span class=\"glyphicon glyphicon-user form-control-feedback\"></span>\n        </div>\n        <div class=\"form-group has-feedback\">\n          <input type=\"password\" v-model=\"loginForm.password\" class=\"form-control\" placeholder=\"密码\">\n          <span class=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-xs-8\">\n          </div>\n          <div class=\"col-xs-4\">\n            <button @click=\"login\" class=\"btn btn-primary btn-block btn-flat\">登录</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>-->\n  <div class=\"login-container\">\n\n    <el-form label-width=\"80px\" class=\"login-form\">\n      <div class=\"row\">\n        <div class=\"col-xs-5\">\n          <img class=\"img\" src=\"../../../static/images/logo.png\">\n        </div>\n        <div class=\"col-xs-7\">\n          <h3 class=\"login-title\">用户登录</h3>\n          <el-form-item label=\"用户端：\">\n            <el-select v-model=\"value\" style=\"width: 375px\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"用户名：\">\n            <el-input type=\"text\" v-model=\"loginForm.username\" placeholder=\"用户名\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码：\">\n            <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"密码\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" style=\"width: 375px\" @click=\"login\">登录</el-button>\n          </el-form-item>\n        </div>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import config from '../../http/config'\n\n  export default {\n    data() {\n      return {\n        options: [{\n          value: 1,\n          label: '武汉交通职业学院智慧节水管控平台'\n        }\n        // , {\n        //   value: 2,\n        //   label: '武汉博水水表集抄平台'\n        // }, {\n        //   value: 3,\n        //   label: '武汉工程大学智慧供水管网信息平台'\n        // }\n        ],\n        value: 1,\n        loginForm: {\n          username: '',\n          password: ''\n        },\n      }\n    },\n    compute: {\n      mapHeight() {\n        return $(document).height() + 'px';\n      }\n    },\n    methods: {\n      login() {\n        //alert(this.value)\n        let data = {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        };\n        data = this.qs.stringify(data);\n        if (this.loginForm.username === '' || this.loginForm.password === '') {\n          alert('账号或密码不能为空！');\n        } else if (this.value === 1) {\n          localStorage.removeItem(\"access_token\");\n          this.$api.sso.login(data).then(res => {\n            if (res.status == 200) {\n              localStorage.setItem(\"access_token\", res.data);\n              //this.router.push('/SystemNavigation');\n              //this.router.push('/WaterPublicity/WaterSurvey');\n              window.location.href = \"http://47.110.33.227:8280/project\"\n            } else {\n              this.$message({\n                type: 'error',\n                message: '用户名或密码错误！'\n              })\n            }\n          }).catch(error => {\n            console.log(error);\n            alert(error);\n          })\n        } else if (this.value === 2) {\n          localStorage.removeItem(\"access_token\");\n          this.$api.sso.login(data).then(res => {\n            if (res.status == 200) {\n              localStorage.setItem(\"access_token\", res.data);\n              window.location.href = \"http://47.110.33.227:8180/witCb/#/ShowWaterMeter\"\n            } else {\n              this.$message({\n                type: 'error',\n                message: '用户名或密码错误！'\n              })\n            }\n          }).catch(error => {\n            console.log(error);\n            alert(error);\n          })\n        } else {\n          localStorage.removeItem(\"access_token\");\n          this.$api.sso.login(data).then(res => {\n            if (res.status == 200) {\n              localStorage.setItem(\"access_token\", res.data);\n              document.cookie = \"username=1;path=/\";\n              window.location.href = \"http://47.110.33.227:8180/lightmap/index.html\"\n            } else {\n              this.$message({\n                type: 'error',\n                message: '用户名或密码错误！'\n              })\n            }\n          }).catch(error => {\n            console.log(error);\n            alert(error);\n          })\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .img {\n    margin-top: 60px;\n    margin-left: 70px;\n    width: 195px;\n    height: 245px;\n  }\n\n  /* 背景 */\n  .login-container {\n    width: 100%;\n    height: 100%;\n    background: url(\"../../../static/images/background.jpg\");\n  }\n\n  .login-form {\n    width: 900px;\n    background-color: rgb(255, 255, 255);\n    padding-right: 100px;\n    padding-top: 20px;\n    padding-bottom: 20px;\n    border-radius: 20px; /* 圆角 */\n    margin: 0 auto; /*水平居中*/\n    position: relative;\n    top: 27%; /*偏移*/\n  }\n\n  /* 标题 */\n  .login-title {\n    color: #4a9aff;\n    text-align: center;\n    margin-bottom: 30px;\n    margin-left: 70px;\n  }\n\n  /*.image {*/\n  /*  background: url(../../../static/images/background.jpg);*/\n  /*  background-size: 100% 100%;*/\n  /*  height: 100%;*/\n  /*  width: 100%;*/\n  /*}*/\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login/Login.vue","module.exports = __webpack_public_path__ + \"static/img/logo.b36d7d2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/images/logo.png\n// module id = Z2Ou\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-form',{staticClass:\"login-form\",attrs:{\"label-width\":\"80px\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-5\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"../../../static/images/logo.png\")}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-xs-7\"},[_c('h3',{staticClass:\"login-title\"},[_vm._v(\"用户登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户端：\"}},[_c('el-select',{staticStyle:{\"width\":\"375px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名：\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码：\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"375px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b6cf33c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b6cf33c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b6cf33c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b6cf33c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}