webpackJsonp([28],{"/Ufw":function(e,t){},"5ew2":function(e,t){},"7Z/4":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"select-water-usage",data:function(){return{options:[],value:""}},props:{typeId:{},titleName:{type:String}},watch:{typeId:{handler:function(e,t){this.value=e}}},created:function(){var e=this;this.value=this.typeId,this.$api.waterUsage.findAll().then(function(t){e.options=t})},methods:{change:function(){var e={name:this.getName(this.value),id:this.value};this.$emit("change",e)},getName:function(e){var t="";return this.options.forEach(function(l){l.id==e&&(t=l.name)}),t}}},a={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("b",[e._v(e._s(e.titleName))]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择用水类型"},on:{change:e.change},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)},staticRenderFns:[]};var o=l("VU/8")(r,a,!1,function(e){l("5ew2")},"data-v-cd6be64e",null).exports,s={name:"upload-excel",data:function(){return{isUpload:!1,fileList:[],limitUpload:500,fileTemp:""}},methods:{handleChange:function(e,t){this.fileTemp=e.raw,this.fileTemp?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==this.fileTemp.type||"application/vnd.ms-excel"==this.fileTemp.type?this.importfxx(this.fileTemp):this.$message({type:"warning",message:"附件格式错误，请删除后重新上传！"}):this.$message({type:"warning",message:"请上传附件！"})},handleExceed:function(){},handleRemove:function(e,t){},importfxx:function(e){var t=this;this.file=e;var r=this.file,a=new FileReader;FileReader.prototype.readAsBinaryString=function(e){alert(2);var r,a,o="",s=new FileReader;s.onload=function(e){alert(4);for(var n=new Uint8Array(s.result),i=n.byteLength,u=0;u<i;u++)o+=String.fromCharCode(n[u]);var c=l("uXZL");r=c.read(o,{type:"binary"}),a=c.utils.sheet_to_json(r.Sheets[r.SheetNames[0]]),t.$emit("getResult",a)},s.readAsArrayBuffer(e)},a.readAsBinaryString(r)},importAll:function(e){}}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-left":"130px"},attrs:{action:"https://jsonplaceholder.typicode.com/posts/",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel","on-change":this.handleChange,"auto-upload":this.isUpload,"file-list":this.fileList,multiple:""}},[t("el-button",{staticStyle:{"margin-left":"-390px"},attrs:{size:"small",type:"primary"}},[this._v("上传Excel文件")]),this._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[this._v("只能上传excel文件，且不超过500kb")])],1)},staticRenderFns:[]};var i={components:{UploadExcel:l("VU/8")(s,n,!1,function(e){l("Tssk")},"data-v-284601a3",null).exports,SelectWaterUsage:o},data:function(){return{flag:0,addFailNum:[],waterUsage:[],typeId:"",titleName:"",importDialog:!1,addDialog:!1,editDialog:!1,tableData:[],excelData:[],importData:[],progressData:0,isShow:!1,show:!1,input:"",select:"",currentPage:1,total:0,size:10,pages:0,ruleForm:{id:"",name:"",comno:"",level:"",snumber:"",productsn:"",category:"",material:"",caliber:"",tag:"",dimension:"",setdepartement:"",setdatetime:"",producter:"",remark:""},rules:{name:[{required:!0,message:"请输入水表名称",trigger:"blur"}]}}},created:function(){this.refresh()},methods:{showAll:function(){this.refresh(),this.input=""},changeUsage:function(e){this.ruleForm.usage=e.name},dateFormat:function(e,t,l){var r=new Date(24*(e-1)*3600*1e3+1);r.setFullYear(r.getFullYear()-70);var a=r.getFullYear(),o=r.getMonth()+1,s=r.getDate(),n=r.getHours()-8,i=r.getMinutes(),u=r.getSeconds();return a+t+o+t+s+" "+(n<10?"0"+n:n)+l+(i<10?"0"+i:i)+l+(u<10?"0"+u:u)},handleSelectionChange:function(e){this.importData=e},getResult:function(e){var t=this,l=[];e.map(function(e){var r={};r.name=e["名称"],r.snumber=e["编号"],r.category=e["类型"],r.material=e["材质"],r.caliber=e["口径"],r.isonline="在线"==e["在线状态"]?"1":"0",r.isopen="开"==e["开启状态"]?"1":"0",r.status=1,r.usage=e["用途类型"],r.tag=e["地图标记"],r.maxquantity=e["日最大流量"],r.dimension=e["规格"],r.setdepartement=e["安装单位"],r.setdatetime=t.dateFormat(e["安装时间"],"-",":"),r.producter=e["生产厂家"],l.push(r),t.excelData=l})},importDataArr:function(){var e=this;this.isShow=!0,this.addFailNum=[];var t=0,l=0,r=this.importData.length;r<1?this.$alert("请在表格中勾选您要添加的行数据","提示"):this.importData.forEach(function(a,o){var s=e.qs.stringify(a);e.$api.waterMeterInf.addWaterMeter(s).then(function(a){var s=e.progressData+Math.ceil(100/e.importData.length);e.progressData=s>100?100:s,"ok"==a.msg?t++:e.addFailNum.push(o),100==e.progressData&&(l=r-t,e.total=e.total+t,e.currentPage=Math.ceil((e.total+t)/e.size),e.$confirm("添加完成，总共"+r+"条数据,添加成功"+t+"条,添加失败"+l+"条,是否继续添加？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.refresh(),e.isShow=!1,e.progressData=0}).catch(function(){e.refresh(),e.isShow=!1,e.progressData=0,e.importDialog=!1}))})})},exportExcel:function(){var e=this.xlsx.utils.table_to_book(document.querySelector("#out-table")),t=this.xlsx.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{this.fileSaver.saveAs(new Blob([t],{type:"application/octet-stream"}),"水表信息.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},getAll:function(){var e=this;this.$api.waterUsage.findAll().then(function(t){e.waterUsage=t})},refresh:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.size};this.$api.waterMeterInf.findPage(t).then(function(t){e.tableData=t.list,e.total=t.total,e.pages=t.pages,e.flag=0})},addMessage:function(){this.addDialog=!0,this.ruleForm.name="",this.ruleForm.snumber="",this.ruleForm.comno="",this.ruleForm.level="",this.ruleForm.category="",this.ruleForm.material="",this.ruleForm.caliber="",this.ruleForm.productsn="",this.ruleForm.tag="",this.ruleForm.dimension="",this.ruleForm.setdepartement="",this.ruleForm.setdatetime="",this.ruleForm.producter="",this.ruleForm.remark="",this.typeId=""},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.ruleForm.id="",""!==t.ruleForm.setdatetime&&(t.ruleForm.setdatetime=t.ruleForm.setdatetime+" 00:00:00");var l=t.qs.stringify(t.ruleForm);t.$api.waterMeterInf.addWaterMeter(l).then(function(e){"ok"===e.msg?(t.addDialog=!1,t.$message({type:"success",message:"添加成功！"}),t.total%t.size==0?(t.currentPage=t.pages+1,t.refresh()):(t.currentPage=t.pages,t.refresh())):t.$message({type:"error",message:"您的账号权限不足！"})})})},handleEdit:function(e,t){var l=this;this.$api.waterMeterInf.findOne(t.id).then(function(e){l.ruleForm=e})},editForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var l=t.qs.stringify(t.ruleForm);t.$api.waterMeterInf.updateWaterMeter(l).then(function(e){"ok"===e.msg?(t.editDialog=!1,t.$message({type:"success",message:"修改成功！"}),0==t.flag?t.refresh():t.search()):t.$message({type:"error",message:"您的账号权限不足！"})})})},search:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.size,name:this.select,value:this.input};this.$api.waterMeterInf.searchWaterMeter(t).then(function(t){e.tableData=t.data.list,e.flag=1,e.total=t.data.total})},changePage:function(e){0==this.flag?(this.currentPage=e.currentPage,this.size=e.size,this.refresh()):(this.currentPage=e.currentPage,this.size=e.size,this.search())},handleDelete:function(e,t){var l=this;this.$confirm("此操作将永久删除该内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.$api.waterMeterInf.deleteOne(t.id).then(function(e){"ok"==e.msg?(l.$message({type:"success",message:"删除成功!"}),l.total%l.size==1&&l.currentPage==l.pages&&(l.currentPage=l.pages-1),0==l.flag?l.refresh():l.search()):l.$message({type:"error",message:"您的账号权限不足!"})}).catch(function(){l.$message({type:"info",message:"删除失败！"})})}).catch(function(){l.$message({type:"info",message:"已取消删除"})})}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"flex"},[l("el-dialog",{attrs:{title:"批量导入水表信息",visible:e.importDialog,width:"1200px",top:"5%","modal-append-to-body":!1},on:{"update:visible":function(t){e.importDialog=t}}},[l("upload-excel",{staticStyle:{"margin-top":"-30px"},on:{getResult:e.getResult}}),e._v(" "),l("el-table",{staticClass:"addArr",staticStyle:{width:"100%"},attrs:{fit:"",size:"mini",data:e.excelData,height:"320px",stripe:"",id:"out-table","default-sort":{prop:"date",order:"descending"},border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{type:"index",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("h6",{class:{addFail:e.addFailNum.indexOf(t.$index)>=0}},[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"220px",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{staticStyle:{width:"190px"},model:{value:t.row.name,callback:function(l){e.$set(t.row,"name",l)},expression:"scope.row.name"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.snumber,callback:function(l){e.$set(t.row,"snumber",l)},expression:"scope.row.snumber"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"计量等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.level,callback:function(l){e.$set(t.row,"level",l)},expression:"scope.row.level"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"通讯编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.comno,callback:function(l){e.$set(t.row,"comno",l)},expression:"scope.row.comno"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"出厂编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.productsn,callback:function(l){e.$set(t.row,"productsn",l)},expression:"scope.row.productsn"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.category,callback:function(l){e.$set(t.row,"category",l)},expression:"scope.row.category"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"材质"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.material,callback:function(l){e.$set(t.row,"material",l)},expression:"scope.row.material"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"规格"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.dimension,callback:function(l){e.$set(t.row,"dimension",l)},expression:"scope.row.dimension"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"口径",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.caliber,callback:function(l){e.$set(t.row,"caliber",l)},expression:"scope.row.caliber"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"地图标记"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.tag,callback:function(l){e.$set(t.row,"tag",l)},expression:"scope.row.tag"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"安装单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.setdepartement,callback:function(l){e.$set(t.row,"setdepartement",l)},expression:"scope.row.setdepartement"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"安装时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.setdatetime,callback:function(l){e.$set(t.row,"setdatetime",l)},expression:"scope.row.setdatetime"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"生产厂家"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.producter,callback:function(l){e.$set(t.row,"producter",l)},expression:"scope.row.producter"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"180px",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{model:{value:t.row.remark,callback:function(l){e.$set(t.row,"remark",l)},expression:"scope.row.remark"}})]}}])})],1),e._v(" "),l("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{percentage:e.progressData,color:"#409eff"}}),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.importDialog=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.importDataArr}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"添加水表信息",visible:e.addDialog,width:"800px",top:"5%","modal-append-to-body":!1},on:{"update:visible":function(t){e.addDialog=t}}},[l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"medium"}},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-xs-5"},[l("el-form-item",{attrs:{label:"名称",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"编号",prop:"snumber"}},[l("el-input",{model:{value:e.ruleForm.snumber,callback:function(t){e.$set(e.ruleForm,"snumber",t)},expression:"ruleForm.snumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"通讯编号",prop:"comno"}},[l("el-input",{model:{value:e.ruleForm.comno,callback:function(t){e.$set(e.ruleForm,"comno",t)},expression:"ruleForm.comno"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"出厂编号",prop:"productsn"}},[l("el-input",{model:{value:e.ruleForm.productsn,callback:function(t){e.$set(e.ruleForm,"productsn",t)},expression:"ruleForm.productsn"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"类型",prop:"category"}},[l("el-input",{model:{value:e.ruleForm.category,callback:function(t){e.$set(e.ruleForm,"category",t)},expression:"ruleForm.category"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"材质",prop:"material"}},[l("el-input",{model:{value:e.ruleForm.material,callback:function(t){e.$set(e.ruleForm,"material",t)},expression:"ruleForm.material"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"规格",prop:"dimension"}},[l("el-input",{model:{value:e.ruleForm.dimension,callback:function(t){e.$set(e.ruleForm,"dimension",t)},expression:"ruleForm.dimension"}})],1)],1),e._v(" "),l("div",{staticClass:"col-xs-5"},[l("el-form-item",{attrs:{label:"口径",prop:"caliber"}},[l("el-input",{model:{value:e.ruleForm.caliber,callback:function(t){e.$set(e.ruleForm,"caliber",t)},expression:"ruleForm.caliber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"等级标记",prop:"snumber"}},[l("el-input",{model:{value:e.ruleForm.level,callback:function(t){e.$set(e.ruleForm,"level",t)},expression:"ruleForm.level"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地图标记",prop:"tag"}},[l("el-input",{model:{value:e.ruleForm.tag,callback:function(t){e.$set(e.ruleForm,"tag",t)},expression:"ruleForm.tag"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"安装单位",prop:"setdepartement"}},[l("el-input",{model:{value:e.ruleForm.setdepartement,callback:function(t){e.$set(e.ruleForm,"setdepartement",t)},expression:"ruleForm.setdepartement"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"安装时间",prop:"setdatetime"}},[l("el-input",{attrs:{placeholder:"请输入日期 如2019-01-01"},model:{value:e.ruleForm.setdatetime,callback:function(t){e.$set(e.ruleForm,"setdatetime",t)},expression:"ruleForm.setdatetime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"生产厂家",prop:"producter"}},[l("el-input",{model:{value:e.ruleForm.producter,callback:function(t){e.$set(e.ruleForm,"producter",t)},expression:"ruleForm.producter"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注",prop:"remark"}},[l("el-input",{model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"修改水表信息",visible:e.editDialog,width:"800px",top:"5%","modal-append-to-body":!1},on:{"update:visible":function(t){e.editDialog=t}}},[l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"medium"}},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-xs-5"},[l("el-form-item",{attrs:{label:"名称",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"编号",prop:"snumber"}},[l("el-input",{model:{value:e.ruleForm.snumber,callback:function(t){e.$set(e.ruleForm,"snumber",t)},expression:"ruleForm.snumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"通讯编号",prop:"comno"}},[l("el-input",{model:{value:e.ruleForm.comno,callback:function(t){e.$set(e.ruleForm,"comno",t)},expression:"ruleForm.comno"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"出厂编号",prop:"productsn"}},[l("el-input",{model:{value:e.ruleForm.productsn,callback:function(t){e.$set(e.ruleForm,"productsn",t)},expression:"ruleForm.productsn"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"类型",prop:"category"}},[l("el-input",{model:{value:e.ruleForm.category,callback:function(t){e.$set(e.ruleForm,"category",t)},expression:"ruleForm.category"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"材质",prop:"material"}},[l("el-input",{model:{value:e.ruleForm.material,callback:function(t){e.$set(e.ruleForm,"material",t)},expression:"ruleForm.material"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"规格",prop:"dimension"}},[l("el-input",{model:{value:e.ruleForm.dimension,callback:function(t){e.$set(e.ruleForm,"dimension",t)},expression:"ruleForm.dimension"}})],1)],1),e._v(" "),l("div",{staticClass:"col-xs-5"},[l("el-form-item",{attrs:{label:"口径",prop:"caliber"}},[l("el-input",{model:{value:e.ruleForm.caliber,callback:function(t){e.$set(e.ruleForm,"caliber",t)},expression:"ruleForm.caliber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"等级标记",prop:"snumber"}},[l("el-input",{model:{value:e.ruleForm.level,callback:function(t){e.$set(e.ruleForm,"level",t)},expression:"ruleForm.level"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地图标记",prop:"tag"}},[l("el-input",{model:{value:e.ruleForm.tag,callback:function(t){e.$set(e.ruleForm,"tag",t)},expression:"ruleForm.tag"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"安装单位",prop:"setdepartement"}},[l("el-input",{model:{value:e.ruleForm.setdepartement,callback:function(t){e.$set(e.ruleForm,"setdepartement",t)},expression:"ruleForm.setdepartement"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"安装时间",prop:"setdatetime"}},[l("el-input",{attrs:{placeholder:"请输入日期 如2019-01-01"},model:{value:e.ruleForm.setdatetime,callback:function(t){e.$set(e.ruleForm,"setdatetime",t)},expression:"ruleForm.setdatetime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"生产厂家",prop:"producter"}},[l("el-input",{model:{value:e.ruleForm.producter,callback:function(t){e.$set(e.ruleForm,"producter",t)},expression:"ruleForm.producter"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注",prop:"remark"}},[l("el-input",{model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),l("div",{staticClass:"content"},[l("div",{staticClass:"box"},[l("div",{staticClass:"box-header bg-aqua"},[e._v("水表信息管理")]),e._v(" "),l("div",{staticClass:"box-body"},[l("div",{staticClass:"row",staticStyle:{"margin-bottom":"10px"}},[l("div",{staticClass:"col-xs-5"},[l("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[l("el-select",{attrs:{slot:"prepend",placeholder:"查询水表"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[l("el-option",{attrs:{label:"名称",value:"name"}}),e._v(" "),l("el-option",{attrs:{label:"编号",value:"snumber"}}),e._v(" "),l("el-option",{attrs:{label:"通讯编号",value:"comno"}}),e._v(" "),l("el-option",{attrs:{label:"出厂编号",value:"productSN"}}),e._v(" "),l("el-option",{attrs:{label:"材质",value:"material"}}),e._v(" "),l("el-option",{attrs:{label:"规格",value:"dimension"}}),e._v(" "),l("el-option",{attrs:{label:"口径",value:"caliber"}}),e._v(" "),l("el-option",{attrs:{label:"等级标记",value:"level"}}),e._v(" "),l("el-option",{attrs:{label:"备注",value:"remark"}})],1),e._v(" "),l("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return t.stopPropagation(),e.search(t)}},slot:"append"})],1)],1),e._v(" "),l("div",{staticClass:"col-xs-7",staticStyle:{"text-align":"right"}},[l("el-button-group",{staticStyle:{"margin-top":"5px"}},[l("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addMessage(t)}}},[e._v("添加水表")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-download"},on:{click:function(t){return t.stopPropagation(),e.exportExcel(t)}}},[e._v("报表导出")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){t.stopPropagation(),e.importDialog=!0}}},[e._v("批量导入")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.showAll}},[e._v("全部水表")])],1)],1)]),e._v(" "),l("el-table",{attrs:{size:"mini",data:e.tableData,stripe:"",id:"out-table",border:""}},[l("el-table-column",{attrs:{type:"index",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s((e.currentPage-1)*e.size+t.$index+1))])]}}])}),e._v(" "),e.show?l("el-table-column",{attrs:{prop:"id"}}):e._e(),e._v(" "),l("el-table-column",{attrs:{prop:"name",width:"150px",label:"名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"snumber",width:"90px",label:"编号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"comno",width:"85px",label:"通讯编号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"productsn",width:"85px",label:"出厂编号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"category",label:"类型"}}),e._v(" "),l("el-table-column",{attrs:{prop:"material",label:"材质"}}),e._v(" "),l("el-table-column",{attrs:{prop:"dimension",label:"规格"}}),e._v(" "),l("el-table-column",{attrs:{prop:"caliber",label:"口径"}}),e._v(" "),l("el-table-column",{attrs:{prop:"level",label:"等级标记"}}),e._v(" "),l("el-table-column",{attrs:{prop:"tag",width:"100px",label:"地图标记"}}),e._v(" "),l("el-table-column",{attrs:{prop:"setdepartement",label:"安装单位"}}),e._v(" "),l("el-table-column",{attrs:{prop:"setdatetime",width:"80px",label:"安装时间"}}),e._v(" "),l("el-table-column",{attrs:{prop:"producter",label:"生产厂家"}}),e._v(" "),l("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(l){e.handleEdit(t.$index,t.row),e.editDialog=!0}}},[e._v("编辑")]),e._v(" "),l("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(l){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),l("div",{staticClass:"box-footer"},[l("page",{attrs:{total:e.total},on:{changePage:e.changePage}})],1)])])],1)},staticRenderFns:[]};var c=l("VU/8")(i,u,!1,function(e){l("/Ufw")},"data-v-342bdc5c",null);t.default=c.exports},Tssk:function(e,t){}});
//# sourceMappingURL=28.2fa158e4b2cc80f3bb61.js.map